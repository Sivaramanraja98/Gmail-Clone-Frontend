(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{122:function(e,t,r){},142:function(e,t,r){},150:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r(25),c=r.n(n),i=r(10),s=r(50),o=r(81),u=r(83),l=r(3),d="CLEAR_ERRORS",j="LOGOUT",b="REGISTER_REQUEST",p="REGISTER_SUCCESS",O="REGISTER_ERROR",f="LOGIN_REQUEST",m="LOGIN_SUCCESS",h="LOGIN_ERROR",x="FETCH_USER_REQUEST",v="FETCH_USER_SUCCESS",g="FETCH_USER_ERROR",_="UPLOAD_IMAGE_REQUEST",y="UPLOAD_IMAGE_SUCCESS",E="UPLOAD_IMAGE_ERROR",R="FETCH_EMAILS_REQUEST",S="FETCH_EMAILS_SUCCESS",w="FETCH_EMAILS_ERROR",A="SEND_EMAIL_REQUEST",k="SEND_EMAIL_SUCCESS",C="SEND_EMAIL_ERROR",I="SAVE_DRAFT_REQUEST",L="SAVE_DRAFT_SUCCES",D="SAVE_DRAFT_ERROR",N="UPDATE_DRAFT_REQUEST",M="UPDATE_DRAFT_SUCCESS",T="UPDATE_DRAFT_ERROR",q="EMAIL_TRASH_REQUEST",U="EMAIL_TRASH_SUCCESS",F="EMAIL_TRASH_ERROR",P="EMAIL_UNTRASH_REQUEST",G="EMAIL_UNTRASH_SUCCESS",B="EMAIL_UNTRASH_ERROR",Q="TOGGLE_EMAIL_PROP_REQUEST",z="TOGGLE_EMAIL_PROP_SUCCESS",Z="TOGGLE_EMAIL_PROP_ERROR",V="DELETE_EMAIL_REQUEST",H="DELETE_EMAIL_SUCCESS",K="DELETE_EMAIL_ERROR",J={isLoading:!1,isLoggedIn:!1,token:window.localStorage.getItem("token"),user:{},error:""},W=r(4),X={isLoading:!1,mailbox:{inbox:[],outbox:[],drafts:[],trash:[],favorite:[]},email:{},error:""},Y=Object(s.combineReducers)({userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(l.a)(Object(l.a)({},e),{},{error:""});case j:return window.localStorage.setItem("token",""),J;case b:case f:case x:case _:return Object(l.a)(Object(l.a)({},e),{},{isLoading:!0});case p:return Object(l.a)(Object(l.a)({},e),{},{isLoading:!1,user:{email:t.payload},error:""});case m:return window.localStorage.setItem("token",t.payload),Object(l.a)(Object(l.a)({},e),{},{isLoading:!1,isLoggedIn:!0,token:t.payload,error:""});case v:return Object(l.a)(Object(l.a)({},e),{},{isLoading:!1,isLoggedIn:!0,user:t.payload,error:""});case y:return Object(l.a)(Object(l.a)({},e),{},{isLoading:!1,user:Object(l.a)(Object(l.a)({},e.user),{},{profilePicture:t.payload}),error:""});case O:return Object(l.a)(Object(l.a)({},e),{},{isLoading:!1,user:{},error:t.error});case h:case g:return window.localStorage.setItem("token",""),Object(l.a)(Object(l.a)({},e),{},{isLoading:!1,isLoggedIn:!1,token:"",user:{},error:t.error});case E:return Object(l.a)(Object(l.a)({},e),{},{isLoading:!1,error:t.error});default:return e}},emailReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(l.a)(Object(l.a)({},e),{},{error:""});case j:return X;case R:case A:case I:case N:case q:case P:case Q:case V:return Object(l.a)(Object(l.a)({},e),{},{isLoading:!0});case S:return Object(l.a)(Object(l.a)({},e),{},{isLoading:!1,mailbox:t.payload[0],email:t.payload[1],error:""});case U:case G:return Object(l.a)(Object(l.a)({},e),{},{isLoading:!1,mailbox:t.payload,error:""});case k:return Object(l.a)(Object(l.a)({},e),{},{isLoading:!1,mailbox:Object(l.a)(Object(l.a)({},e.mailbox),{},{outbox:[].concat(Object(W.a)(e.mailbox.outbox),[t.payload.outbox])}),error:""});case L:return Object(l.a)(Object(l.a)({},e),{},{isLoading:!1,mailbox:Object(l.a)(Object(l.a)({},e.mailbox),{},{drafts:[].concat(Object(W.a)(e.mailbox.drafts),[t.payload])}),error:""});case M:for(var r=Object(W.a)(e.mailbox.drafts),a=0;a<r.length;a++)if(r[a]._id===t.payload._id){r[a]=t.payload;break}return Object(l.a)(Object(l.a)({},e),{},{isLoading:!1,mailbox:Object(l.a)(Object(l.a)({},e.mailbox),{},{drafts:r}),error:""});case z:var n=Object(W.a)(e.mailbox.inbox),c=Object(W.a)(e.mailbox.outbox),i=!1;if(!i)for(var s=0;s<n.length;s++)if(n[s]._id===t.payload._id){n[s]=t.payload,i=!0;break}if(!i)for(var o=0;o<c.length;o++)if(c[o]._id===t.payload._id){c[o]=t.payload,i=!0;break}return Object(l.a)(Object(l.a)({},e),{},{isLoading:!1,mailbox:Object(l.a)(Object(l.a)({},e.mailbox),{},{inbox:n,outbox:c}),error:""});case H:for(var u=Object(W.a)(e.mailbox.trash),b=Object(W.a)(e.mailbox.drafts),p=!1,O=0;O<u.length;O++)if(u[O]._id===t.payload){u.splice(O,1),p=!0;break}if(!p)for(var f=0;f<b.length;f++)if(b[f]._id===t.payload){b.splice(f,1);break}return Object(l.a)(Object(l.a)({},e),{},{isLoading:!1,mailbox:Object(l.a)(Object(l.a)({},e.mailbox),{},{trash:u,drafts:b}),error:""});case w:case C:case D:case T:case F:case B:case Z:case K:return Object(l.a)(Object(l.a)({},e),{},{isLoading:!1,error:t.error});default:return e}}}),$=Object(s.createStore)(Y,Object(o.composeWithDevTools)(Object(s.applyMiddleware)(u.a))),ee=(r(122),r(36)),te=r(23),re=r(5),ae=r(14),ne=r(27),ce=r.n(ne),ie="https://gmail-clone-backend-93kj.onrender.com",se=function(e){return{headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}}},oe=function(e){return ce.a.post("".concat(ie,"/account/register"),e)},ue=function(e){return ce.a.post("".concat(ie,"/account/login"),e)},le=function(e,t){return ce.a.put("".concat(ie,"/account/image"),t,se(e))},de=function(e,t,r,a){return ce.a.post("".concat(ie,"/email/send/").concat(r,"/").concat(a),t,se(e))},je=function(e,t){return ce.a.post("".concat(ie,"/email/draft"),t,se(e))},be=function(e,t,r){return ce.a.put("".concat(ie,"/email/draft/").concat(t),r,se(e))},pe=function(e,t){return ce.a.put("".concat(ie,"/email/").concat(t,"/trash"),null,se(e))},Oe=function(e,t){return ce.a.put("".concat(ie,"/email/").concat(t,"/untrash"),null,se(e))},fe=function(e,t){return ce.a.put("".concat(ie,"/email/").concat(t,"/read"),null,se(e))},me=function(e,t){return ce.a.put("".concat(ie,"/email/").concat(t,"/unread"),null,se(e))},he=function(e,t){return ce.a.put("".concat(ie,"/email/").concat(t,"/favorite"),null,se(e))},xe=function(e,t){return ce.a.put("".concat(ie,"/email/").concat(t,"/unfavorite"),null,se(e))},ve=function(e,t){return ce.a.delete("".concat(ie,"/email/").concat(t),se(e))},ge=function(){return{type:j}},_e=function(e){return function(){var t=Object(ae.a)(Object(re.a)().mark((function t(r){var a;return Object(re.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:b}),t.prev=1,t.next=4,oe(e);case 4:a=t.sent,r({type:p,payload:a.data.email}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),r({type:O,error:t.t0.response.data.message});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},ye=function(e){return function(){var t=Object(ae.a)(Object(re.a)().mark((function t(r){var a;return Object(re.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:f}),t.prev=1,t.next=4,ue(e);case 4:a=t.sent,r({type:m,payload:a.data.token}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),r({type:h,error:t.t0.response.data.message});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},Ee=function(e){return function(){var t=Object(ae.a)(Object(re.a)().mark((function t(r,a){var n;return Object(re.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:_}),t.prev=1,t.next=4,le(a().userReducer.token,e);case 4:n=t.sent,r({type:y,payload:n.data.profilePicture}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),r({type:E,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()},Re=(r(142),r(8)),Se=r(61),we=r.n(Se),Ae=function(){return{type:d}},ke=r(45),Ce=r(56),Ie=r.n(Ce),Le=r(167),De=r(169),Ne=r(1);function Me(e){var t=e.isLoading,r=e.error,a=e.user,n=Object(i.b)(),c=Object(ke.a)({defaultValues:{email:a.email}}),s=c.register,o=c.handleSubmit,u=c.errors,l=c.formState;r&&(alert(r),setTimeout((function(){n(Ae())}),0));var d,j,b,p;return t?Object(Ne.jsx)("div",{children:Object(Ne.jsx)(Le.a,{color:"secondary"})}):Object(Ne.jsxs)("form",{onSubmit:o((function(e){n(ye(e))})),className:Ie.a.form,children:[Object(Ne.jsx)("input",{name:"email",type:"email",placeholder:"Email",ref:s({required:!0,pattern:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/})}),Object(Ne.jsx)("p",{children:"required"===(null===(d=u.email)||void 0===d?void 0:d.type)&&"Email is required"}),Object(Ne.jsx)("p",{children:"pattern"===(null===(j=u.email)||void 0===j?void 0:j.type)&&"Invalid email"}),Object(Ne.jsx)("input",{name:"password",type:"password",placeholder:"Password",ref:s({required:!0,minLength:7})}),Object(Ne.jsx)("p",{children:"required"===(null===(b=u.password)||void 0===b?void 0:b.type)&&"Password is required"}),Object(Ne.jsx)("p",{children:"minLength"===(null===(p=u.password)||void 0===p?void 0:p.type)&&"Must be at least 7 characters"}),Object(Ne.jsx)(De.a,{type:"submit",disabled:l.isSubmitting,children:"Login"})]})}function Te(e){var t=e.isLoading,r=e.error,n=Object(i.b)(),c=Object(ke.a)(),s=c.register,o=c.handleSubmit,u=c.errors,l=c.watch,d=c.formState,j=Object(a.useRef)({});j.current=l("password",""),r&&(alert(r),setTimeout((function(){n(Ae())}),0));var b,p,O,f,m,h,x,v,g,_,y;return t?Object(Ne.jsx)("div",{children:Object(Ne.jsx)(Le.a,{color:"secondary"})}):Object(Ne.jsxs)("form",{onSubmit:o((function(e){n(_e(e))})),className:Ie.a.form,children:[Object(Ne.jsx)("input",{name:"firstName",type:"text",placeholder:"First name",ref:s({required:!0,pattern:/^[a-z ,.'-]+$/i})}),Object(Ne.jsx)("p",{children:"required"===(null===(b=u.email)||void 0===b?void 0:b.type)&&"First name is required"}),Object(Ne.jsx)("p",{children:"pattern"===(null===(p=u.firstName)||void 0===p?void 0:p.type)&&"Invalid name"}),Object(Ne.jsx)("input",{name:"middleName",type:"text",placeholder:"Middle name (optional)",ref:s({pattern:/^[a-z ,.'-]+$/i})}),Object(Ne.jsx)("p",{children:"pattern"===(null===(O=u.middleName)||void 0===O?void 0:O.type)&&"Invalid name"}),Object(Ne.jsx)("input",{name:"lastName",type:"text",placeholder:"Last name",ref:s({required:!0,pattern:/^[a-z ,.'-]+$/i})}),Object(Ne.jsx)("p",{children:"required"===(null===(f=u.email)||void 0===f?void 0:f.type)&&"Last name is required"}),Object(Ne.jsx)("p",{children:"pattern"===(null===(m=u.lastName)||void 0===m?void 0:m.type)&&"Invalid name"}),Object(Ne.jsx)("input",{name:"email",type:"email",placeholder:"Email",ref:s({required:!0,pattern:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/})}),Object(Ne.jsx)("p",{children:"required"===(null===(h=u.email)||void 0===h?void 0:h.type)&&"Email is required"}),Object(Ne.jsx)("p",{children:"pattern"===(null===(x=u.email)||void 0===x?void 0:x.type)&&"Invalid email"}),Object(Ne.jsx)("input",{name:"password",type:"password",placeholder:"Password",ref:s({required:!0,minLength:7})}),Object(Ne.jsx)("p",{children:"required"===(null===(v=u.password)||void 0===v?void 0:v.type)&&"Password is required"}),Object(Ne.jsx)("p",{children:"minLength"===(null===(g=u.password)||void 0===g?void 0:g.type)&&"Must be at least 7 characters"}),Object(Ne.jsx)("input",{name:"passwordConfirm",type:"password",placeholder:"Confirm Password",ref:s({required:!0,validate:function(e){return e===j.current}})}),Object(Ne.jsx)("p",{children:"required"===(null===(_=u.passwordConfirm)||void 0===_?void 0:_.type)&&"Password confirmation is required"}),Object(Ne.jsx)("p",{children:"validate"===(null===(y=u.passwordConfirm)||void 0===y?void 0:y.type)&&"Passwords do not match"}),Object(Ne.jsx)(De.a,{type:"submit",disabled:d.isSubmitting,children:"Register"})]})}var qe=r.p+"static/media/Gmail_icon.svg.27f35c96.webp";function Ue(){var e=Object(i.c)((function(e){return e.userReducer})),t=e.user,r=e.isLoading,n=e.error,c=Object(a.useState)(!1),s=Object(Re.a)(c,2),o=s[0],u=s[1],l=function(){return u(!o)};return Object(a.useEffect)((function(){t.email&&(l(),alert("Account successfully created!"))}),[t.email]),Object(Ne.jsxs)("div",{className:we.a.page,children:[Object(Ne.jsx)("img",{src:qe,alt:"Gmail"}),o?Object(Ne.jsxs)(a.Fragment,{children:[Object(Ne.jsx)(Te,{isLoading:r,error:n}),Object(Ne.jsx)("button",{className:we.a.link,onClick:l,children:"Login an existing account"})]}):Object(Ne.jsxs)(a.Fragment,{children:[Object(Ne.jsx)(Me,{isLoading:r,error:n,user:t}),Object(Ne.jsx)("button",{className:we.a.link,onClick:l,children:"Create a new account"})]}),Object(Ne.jsx)("p",{children:"Disclaimer: this clone is not associated with Google! All accounts & emails are fictive, but remain in a database."})]})}var Fe=function(){return function(){var e=Object(ae.a)(Object(re.a)().mark((function e(t,r){var a;return Object(re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:R}),e.prev=1,e.next=4,n=r().userReducer.token,ce.a.get("".concat(ie,"/email"),se(n));case 4:a=e.sent,t({type:S,payload:[a.data.mailbox,a.data.email]}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:w,error:e.t0});case 11:case"end":return e.stop()}var n}),e,null,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}()},Pe=function(e,t,r){return function(){var a=Object(ae.a)(Object(re.a)().mark((function a(n,c){var i;return Object(re.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:A}),a.prev=1,a.next=4,de(c().userReducer.token,e,t,r);case 4:i=a.sent,n({type:k,payload:{outbox:i.data.sent}}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),n({type:C,error:a.t0});case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e,t){return a.apply(this,arguments)}}()},Ge=function(e,t){return function(){var r=Object(ae.a)(Object(re.a)().mark((function r(a,n){var c;return Object(re.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a({type:N}),r.prev=1,r.next=4,be(n().userReducer.token,e,t);case 4:c=r.sent,a({type:M,payload:c.data.draft}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),a({type:T,error:r.t0});case 11:case"end":return r.stop()}}),r,null,[[1,8]])})));return function(e,t){return r.apply(this,arguments)}}()},Be=function(e){return function(){var t=Object(ae.a)(Object(re.a)().mark((function t(r,a){var n;return Object(re.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:q}),t.prev=1,t.next=4,pe(a().userReducer.token,e);case 4:n=t.sent,r({type:U,payload:n.data.mailbox}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),r({type:F,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()},Qe=function(e){return function(){var t=Object(ae.a)(Object(re.a)().mark((function t(r,a){var n;return Object(re.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:P}),t.prev=1,t.next=4,Oe(a().userReducer.token,e);case 4:n=t.sent,r({type:G,payload:n.data.mailbox}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),r({type:B,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()},ze=function(e){return function(){var t=Object(ae.a)(Object(re.a)().mark((function t(r,a){var n;return Object(re.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:Q}),t.prev=1,t.next=4,fe(a().userReducer.token,e);case 4:n=t.sent,r({type:z,payload:n.data.email}),r(Fe()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r({type:Z,error:t.t0});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,r){return t.apply(this,arguments)}}()},Ze=function(e){return function(){var t=Object(ae.a)(Object(re.a)().mark((function t(r,a){var n;return Object(re.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:Q}),t.prev=1,t.next=4,me(a().userReducer.token,e);case 4:n=t.sent,r({type:z,payload:n.data.email}),r(Fe()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r({type:Z,error:t.t0});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,r){return t.apply(this,arguments)}}()},Ve=function(e){return function(){var t=Object(ae.a)(Object(re.a)().mark((function t(r,a){var n;return Object(re.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:Q}),t.prev=1,t.next=4,he(a().userReducer.token,e);case 4:n=t.sent,r({type:z,payload:n.data.email}),r(Fe()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r({type:Z,error:t.t0});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,r){return t.apply(this,arguments)}}()},He=function(e){return function(){var t=Object(ae.a)(Object(re.a)().mark((function t(r,a){var n;return Object(re.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:Q}),t.prev=1,t.next=4,xe(a().userReducer.token,e);case 4:n=t.sent,r({type:z,payload:n.data.email}),r(Fe()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r({type:Z,error:t.t0});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,r){return t.apply(this,arguments)}}()},Ke=function(e){return function(){var t=Object(ae.a)(Object(re.a)().mark((function t(r,a){var n;return Object(re.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:V}),t.prev=1,t.next=4,ve(a().userReducer.token,e);case 4:n=t.sent,r({type:H,payload:n.data.id}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),r({type:K,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()},Je=r(62),We=r.n(Je),Xe=r(47),Ye=r.n(Xe),$e=r(67),et=r.n($e),tt=r(170),rt=r(174);function at(e){var t=e.user,r=e.toggleShowEditImage,a=e.toggleShowProfile,n=Object(i.b)(),c=Object(te.g)();return Object(Ne.jsxs)("div",{className:et.a.container,children:[Object(Ne.jsx)(tt.a,{badgeContent:"edit",color:"secondary",overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},style:{cursor:"pointer"},onClick:function(){r(),a()},children:Object(Ne.jsx)(rt.a,{className:et.a.avatar,src:t.profilePicture})}),Object(Ne.jsxs)("p",{children:[t.name.first," ",t.name.last,Object(Ne.jsx)("br",{}),t.email]}),Object(Ne.jsx)(De.a,{onClick:function(){return c.push("/GitHub")},children:"Visit my GitHub page"}),Object(Ne.jsx)(De.a,{onClick:function(){return n(ge())},children:"Logout"})]})}var nt=r(63),ct=r.n(nt),it=r(86),st=r.n(it);function ot(e){var t=e.toggleShowEditImage,r=Object(i.b)(),n=Object(a.useState)(""),c=Object(Re.a)(n,2),s=c[0],o=c[1];return Object(Ne.jsx)("div",{className:ct.a.modal,children:Object(Ne.jsxs)("form",{className:ct.a.form,onSubmit:function(e){e.preventDefault(),r(Ee({image:s})),t()},children:[Object(Ne.jsx)("span",{onClick:t,children:"\xd7"}),Object(Ne.jsx)(rt.a,{className:ct.a.avatar,src:s.base64}),Object(Ne.jsx)("p",{children:"Select a profile picture (max 10mb)"}),Object(Ne.jsxs)("label",{children:[Object(Ne.jsx)(st.a,{multiple:!1,onDone:function(e){return o(e)}}),"Select image"]}),Object(Ne.jsx)(De.a,{type:"submit",disabled:!s,children:"Upload"})]})})}var ut="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG0AAAAoCAMAAADDs4S7AAABJlBMVEUAAADFIiDFIh/FIh/FIx+/ICD3vwD7vAT7vAT8vAP8vAPEJSDFIh/GIh76vAX7vAP7uwTDIh7rRDXfQDDrQjX8vAVASEjEIR7qQzXqQzXnSDBFRUVER0VERkVER0ZGRkZISEhERkVER0ZAQEBERERERkbqQzXoQjftQzXrQzRFR0ZER0dDR0fUuBNDR0ZGRkZCSEVER0dBhPKEU4qksyc1qFNDSEZChfRzYKS0LjruuglmrT80qFNSednJtxhNqklER0dERkZER0ZER0bpQjXqQjRFSEhESEhDR0VER0ZESEbnQDjqQzRFRUXpRDToQzVDRkRESETqQjXnRDRCR0RDR0VDR0ZESEZDRkZDRkNFSEVARUVBg/MzplFAh+9BhPQ0qFMwp1Cjq+zaAAAAYnRSTlMAb9//vyAgv//fXzDvcG/vQJCPEI+fIKD/3yBgv+//XyDPzxBAgO9wb+/fT5+f31BgcKD//59f////////////j3+Pr9/vYECQ76AgvzCAkKBAYEBwn6+AoFBgMJCQIM+/IDH/nxkAAAIVSURBVHgBYhi+YBSMglHAyMTMwoopzMbOwclFdcu4mYGAhxddmI+fAwgEqG2bIDMYCAkjCwqLcICBKBYNAFboAkuBGAqiaK0i2E8hGRzG3d3dZf/7mN9BDjmkR3m43u4yBn8v09OyuTyG5XPZFK0glrRSxPeVyhWHKalGtWytjn6NZjaulUSpVouklPBdVbKNAjtRTdM1/Yr6tK91Q6zF6RkHYHaac/guUxYzps0vDDVd06841BaXMFqLuo3PLONHjWsrq2sDTdfUFQfa+sZmoBU47TCWM6MP/pn7SlvZUi4bptr2zmaolbmMEJLdkpCtPSQP3Ifmn7WK/tODmKYtjGuLm5uh5kiHIMPplpVpcq9ly6pUFbO0Uibnkk9bUU1bPQyxo43NUOv/Oum41wkM/ban+mCAWZ4BVXvukqd06Zp2EXCXF5vpGn2URLvyJ00/saWaxkE7ZeFLDbjODrsBPBZfspp067UzJPU/KPMOOBFLirD6jYb7w/6KD4hpaPEOwx55OjxbEkmin8+QrafnaX6vwa+pKyKuVSmjdDumtfgC7fV7Tbv2K6ZoznIP/fY4jYhmhk+/17T7B6RquCOfSt7dJ+9imiNL/li+04LiGt6mSXl6EtLOIqZB2HqqCqcnocG8Wmr2wCCuuVdqL9WJaNrd2/uHQ3rmc5GReKRj8NkWy0BlEBeP27aERGJMGAWjYBSMAgCA2YXMvdXiqwAAAABJRU5ErkJggg==",lt=r(171),dt=r(87),jt=r.n(dt),bt=r(88),pt=r.n(bt),Ot=r(89),ft=r.n(Ot),mt=r(90),ht=r.n(mt);function xt(e){var t=e.toggleShowSidebar,r=Object(i.c)((function(e){return e.userReducer})).user,n=Object(a.useState)(!1),c=Object(Re.a)(n,2),s=c[0],o=c[1],u=Object(a.useState)(!1),l=Object(Re.a)(u,2),d=l[0],j=l[1],b=function(){return o(!s)},p=function(){return j(!d)};return Object(Ne.jsxs)("header",{className:Ye.a.container,children:[Object(Ne.jsxs)("div",{className:Ye.a.side,children:[Object(Ne.jsx)(lt.a,{onClick:t,children:Object(Ne.jsx)(jt.a,{})}),Object(Ne.jsx)("img",{src:ut,alt:"gmail logo"})]}),Object(Ne.jsxs)("div",{className:Ye.a.middle,children:[Object(Ne.jsx)(lt.a,{children:Object(Ne.jsx)(pt.a,{})}),Object(Ne.jsx)("input",{type:"text",placeholder:"Search mail"})]}),Object(Ne.jsxs)("div",{className:Ye.a.side+" "+Ye.a.relative,children:[Object(Ne.jsx)(lt.a,{children:Object(Ne.jsx)(ft.a,{})}),Object(Ne.jsx)(lt.a,{children:Object(Ne.jsx)(ht.a,{})}),Object(Ne.jsx)(lt.a,{onClick:b,children:Object(Ne.jsx)(rt.a,{src:r.profilePicture})}),s&&Object(Ne.jsx)(at,{user:r,toggleShowProfile:b,toggleShowEditImage:p}),d&&Object(Ne.jsx)(ot,{toggleShowEditImage:p})]})]})}var vt=r(52),gt=r.n(vt),_t=r(69),yt=r.n(_t);function Et(e){var t=e.Icon,r=e.title,a=e.number,n=e.selected,c=e.onClick,i=e.className;return Object(Ne.jsxs)("div",{className:"".concat(yt.a.item," ").concat(n&&yt.a.active," ").concat(i),onClick:c,children:[Object(Ne.jsx)(t,{fontSize:"large"}),Object(Ne.jsx)("h3",{children:r}),Object(Ne.jsx)("p",{children:a})]})}var Rt=r(91),St=r.n(Rt),wt=r(92),At=r.n(wt),kt=r(93),Ct=r.n(kt),It=r(95),Lt=r.n(It),Dt=r(94),Nt=r.n(Dt),Mt=r(97),Tt=r.n(Mt),qt=r(96),Ut=r.n(qt),Ft=r(98),Pt=r.n(Ft);function Gt(e){var t=e.toggleIsCompose,r=e.inboxLength,n=e.sentLength,c=e.starredLength,i=e.draftsLength,s=e.trashLength,o=Object(te.g)(),u=Object(te.h)(),l=Object(a.useState)(!1),d=Object(Re.a)(l,2),j=d[0],b=d[1];return Object(Ne.jsxs)("div",{className:gt.a.container,children:[Object(Ne.jsx)(De.a,{className:gt.a.compose,onClick:function(){return t()},startIcon:Object(Ne.jsx)(St.a,{fontSize:"large"}),children:"Compose"}),Object(Ne.jsx)(Et,{Icon:At.a,title:"Inbox",number:r,onClick:function(){return o.push("/email/inbox")},selected:"/email/inbox"===u.pathname}),Object(Ne.jsx)(Et,{Icon:Ct.a,title:"Starred",number:c,onClick:function(){return o.push("/email/starred")},selected:"/email/starred"===u.pathname}),Object(Ne.jsx)(Et,{Icon:Nt.a,title:"Drafts",number:i,onClick:function(){return o.push("/email/drafts")},selected:"/email/drafts"===u.pathname}),Object(Ne.jsx)(Et,{Icon:Lt.a,title:"Sent",number:n,onClick:function(){return o.push("/email/sent")},selected:"/email/sent"===u.pathname}),Object(Ne.jsx)(Et,{Icon:Ut.a,title:"More",number:"",onClick:function(){return b(!j)},className:j?gt.a.showMore__on:gt.a.showMore__off}),j&&Object(Ne.jsx)(Ne.Fragment,{children:Object(Ne.jsx)(Et,{Icon:Tt.a,title:"Trash",number:s,onClick:function(){return o.push("/email/trash")},selected:"/email/trash"===u.pathname})}),Object(Ne.jsx)(Et,{Icon:Pt.a,title:"Charts",onClick:function(){return o.push("/email/charts")},selected:"/email/charts"===u.pathname})]})}var Bt=r(40),Qt=r.n(Bt),zt=r(64),Zt=r.n(zt),Vt=r(172),Ht=r(173),Kt=r(100),Jt=r.n(Kt),Wt=r(101),Xt=r.n(Wt),Yt=r(102),$t=r.n(Yt),er=r(103),tr=r.n(er),rr=r(104),ar=r.n(rr),nr=r(105),cr=r.n(nr),ir=r(107),sr=r.n(ir),or=r(106),ur=r.n(or),lr=r(108),dr=r.n(lr),jr=r(109),br=r.n(jr);function pr(e){return Object(Ne.jsxs)("div",{className:Zt.a.component,children:[Object(Ne.jsx)("div",{className:Zt.a.wrapper,children:e.children}),Object(Ne.jsx)("div",{className:Zt.a.wrapper,children:Object(Ne.jsx)(Vt.a,{title:"null",children:Object(Ne.jsx)(lt.a,{children:Object(Ne.jsx)(Jt.a,{})})})})]})}function Or(){return Object(Ne.jsx)(Vt.a,{title:"null",children:Object(Ne.jsx)(Ht.a,{})})}function fr(){return Object(Ne.jsx)(Vt.a,{title:"null",children:Object(Ne.jsx)(Ht.a,{})})}function mr(){var e=Object(te.g)();return Object(Ne.jsx)(Vt.a,{title:"Back",children:Object(Ne.jsx)(lt.a,{onClick:function(){return e.goBack()},children:Object(Ne.jsx)(Xt.a,{})})})}function hr(){var e=Object(i.b)();return Object(Ne.jsx)(Vt.a,{title:"Refresh",children:Object(Ne.jsx)(lt.a,{onClick:function(){return e(Fe())},children:Object(Ne.jsx)($t.a,{})})})}function xr(e){var t=e.id,r=Object(i.b)(),a=Object(te.g)();return Object(Ne.jsx)(Vt.a,{title:"Mark as unread",children:Object(Ne.jsx)(lt.a,{onClick:function(){r(Ze(t)),a.goBack()},children:Object(Ne.jsx)(tr.a,{})})})}function vr(e){var t=e.id,r=e.isStarred,a=Object(i.b)();return r?Object(Ne.jsx)(Vt.a,{title:"Unfavorite",children:Object(Ne.jsx)(lt.a,{onClick:function(){return a(He(t))},children:Object(Ne.jsx)(ar.a,{})})}):Object(Ne.jsx)(Vt.a,{title:"Favorite",children:Object(Ne.jsx)(lt.a,{onClick:function(){return a(Ve(t))},children:Object(Ne.jsx)(cr.a,{})})})}function gr(e){var t=e.id,r=e.isInTrash,a=Object(i.b)(),n=Object(te.g)();return r?Object(Ne.jsx)(Vt.a,{title:"Not trash",children:Object(Ne.jsx)(lt.a,{onClick:function(){a(Qe(t)),n.goBack()},children:Object(Ne.jsx)(ur.a,{})})}):Object(Ne.jsx)(Vt.a,{title:"Move to trash",children:Object(Ne.jsx)(lt.a,{onClick:function(){a(Be(t)),n.goBack()},children:Object(Ne.jsx)(sr.a,{})})})}function _r(e){var t=e.id,r=Object(i.b)();return Object(Ne.jsx)(Vt.a,{title:"Delete",children:Object(Ne.jsx)(lt.a,{onClick:function(){return r(Ke(t))},children:Object(Ne.jsx)(dr.a,{})})})}function yr(){return Object(Ne.jsx)(Vt.a,{title:"null",children:Object(Ne.jsx)(lt.a,{children:Object(Ne.jsx)(br.a,{})})})}var Er=r(53),Rr=r.n(Er);function Sr(e){var t=e.id,r=e.title,a=e.subject,n=e.message,c=e.date,i=e.isRead,s=e.isStarred,o=e.isTrash,u=e.isDraft,l=e.toggleIsCompose,d=Object(te.g)(),j=Object(te.i)().category;return Object(Ne.jsxs)("div",{className:"".concat(Rr.a.item," ").concat(i||o||u?Rr.a.read:Rr.a.unread),children:[Object(Ne.jsx)(Or,{}),void 0!==s&&Object(Ne.jsx)(vr,{id:t,isStarred:s}),o||u?Object(Ne.jsx)(_r,{id:t}):"",Object(Ne.jsxs)("div",{className:Rr.a.message,onClick:function(){return u?l(t,u):d.push("/email/".concat(j,"/view/").concat(t))},children:[Object(Ne.jsx)("h4",{children:r}),"\xa0\xa0",Object(Ne.jsxs)("p",{children:[Object(Ne.jsx)("span",{children:a}),"\xa0\xa0",n]}),"\xa0\xa0",Object(Ne.jsx)("span",{children:function(e){var t=new Date(e).getDate();switch(new Date(e).getMonth()){case 0:return"Jan ".concat(t);case 1:return"Feb ".concat(t);case 2:return"Mar ".concat(t);case 3:return"Apr ".concat(t);case 4:return"May ".concat(t);case 5:return"Jun ".concat(t);case 6:return"Jul ".concat(t);case 7:return"Aug ".concat(t);case 8:return"Sep ".concat(t);case 9:return"Oct ".concat(t);case 10:return"Nov ".concat(t);case 11:return"Dec ".concat(t);default:return"Loading..."}}(c)})]})]})}var wr=r(59),Ar=function(e){var t=e.inbox,r=e.sent,a=e.starred,n=e.drafts,c=e.trash,i=e.read,s={labels:["Inbox","Read","Sent","Starred","Drafts","Trash"],datasets:[{label:"My MailBox Detials",backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(75, 192, 192, 0.2)","rgba(255, 205, 86, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)"],borderColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(75, 192, 192)","rgb(255, 205, 86)","rgb(54, 162, 235)","rgb(153, 102, 255)"],borderWidth:3,data:[t.length,i.length,r.length,a.length,n.length,c.length]}]};return Object(Ne.jsx)("div",{style:{margin:"50px 90px"},children:Object(Ne.jsx)(wr.a,{data:s,options:{plugins:{title:{display:!0,text:"All Mails"}}}})})},kr=function(e){var t=e.inboxReply,r=e.outboxReply,a=0,n=0;r.length>0&&r.forEach((function(e){a+=e.replyId.length})),t.length>0&&t.forEach((function(e){n+=e.replyId.length}));var c={labels:["Send by Others","Send by Me"],datasets:[{label:"My Mail Flow",backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(75, 192, 192, 0.2)"],borderColor:["rgb(255, 99, 132)","rgb(75, 192, 192)"],borderWidth:3,data:[n,a]}]};return Object(Ne.jsx)("div",{style:{margin:"50px 90px"},children:Object(Ne.jsx)(wr.b,{data:c,options:{plugins:{title:{display:!0,text:"OverAll My Mail Flow"}}}})})};function Cr(e){var t=e.inbox,r=e.sent,n=e.drafts,c=e.starred,s=e.trash,o=e.read,u=e.inboxReply,l=e.outboxReply,d=e.toggleIsCompose,j=Object(te.i)().category,b=Object(i.c)((function(e){return e.emailReducer})).isLoading,p=Object(i.c)((function(e){return e.userReducer.user.email}));if(b)return Object(Ne.jsx)("div",{className:Qt.a.center,children:Object(Ne.jsx)(Le.a,{color:"secondary"})});switch(j){case"inbox":return t.length?Object(Ne.jsxs)(a.Fragment,{children:[Object(Ne.jsxs)(pr,{children:[Object(Ne.jsx)(fr,{}),Object(Ne.jsx)(hr,{}),Object(Ne.jsx)(yr,{})]}),t.map((function(e){return Object(Ne.jsx)(Sr,{id:e._id,title:e.from,subject:e.subject,message:e.message,date:e.createdAt,isRead:void 0!==o.find((function(t){return t===e._id})),isStarred:void 0!==c.find((function(t){return t._id===e._id}))},e._id)}))]}):Object(Ne.jsx)("div",{className:Qt.a.center,children:"Inbox is empty..."});case"sent":return r.length?Object(Ne.jsxs)(a.Fragment,{children:[Object(Ne.jsxs)(pr,{children:[Object(Ne.jsx)(fr,{}),Object(Ne.jsx)(hr,{}),Object(Ne.jsx)(yr,{})]}),r.map((function(e){return Object(Ne.jsx)(Sr,{id:e._id,title:"To: ".concat(e.to),subject:e.subject,message:e.message,date:e.createdAt,isRead:!0,isStarred:void 0!==c.find((function(t){return t._id===e._id}))},e._id)}))]}):Object(Ne.jsx)("div",{className:Qt.a.center,children:"Outbox is empty..."});case"starred":return c.length?Object(Ne.jsxs)(a.Fragment,{children:[Object(Ne.jsxs)(pr,{children:[Object(Ne.jsx)(fr,{}),Object(Ne.jsx)(hr,{}),Object(Ne.jsx)(yr,{})]}),c.map((function(e){return Object(Ne.jsx)(Sr,{id:e._id,title:e.from===p?"me":e.from,subject:e.subject,message:e.message,date:e.createdAt,isRead:void 0!==o.find((function(t){return t===e._id})),isStarred:!0},e._id)}))]}):Object(Ne.jsx)("div",{className:Qt.a.center,children:"Favorites is empty..."});case"drafts":return n.length?Object(Ne.jsxs)(a.Fragment,{children:[Object(Ne.jsxs)(pr,{children:[Object(Ne.jsx)(fr,{}),Object(Ne.jsx)(hr,{}),Object(Ne.jsx)(yr,{})]}),n.map((function(e){return Object(Ne.jsx)(Sr,{id:e._id,title:"Draft",subject:e.subject,message:e.message,date:e.updatedAt,isDraft:!0,toggleIsCompose:d},e._id)}))]}):Object(Ne.jsx)("div",{className:Qt.a.center,children:"Drafts is empty..."});case"trash":return s.length?Object(Ne.jsxs)(a.Fragment,{children:[Object(Ne.jsxs)(pr,{children:[Object(Ne.jsx)(fr,{}),Object(Ne.jsx)(hr,{}),Object(Ne.jsx)(yr,{})]}),s.map((function(e){return Object(Ne.jsx)(Sr,{id:e._id,title:e.from===p?"me":e.from,subject:e.subject,message:e.message,date:e.createdAt,isTrash:!0},e._id)}))]}):Object(Ne.jsx)("div",{className:Qt.a.center,children:"Trash is empty..."});case"charts":return Object(Ne.jsxs)(a.Fragment,{children:[Object(Ne.jsxs)(pr,{children:[Object(Ne.jsx)(hr,{}),Object(Ne.jsx)(yr,{})]}),Object(Ne.jsxs)("div",{style:{width:"60vw",height:"100vh",overflow:"auto"},children:[Object(Ne.jsx)(Ar,{inbox:t,sent:r,starred:c,drafts:n,trash:s,read:o}),Object(Ne.jsx)(kr,{inbox:t,sent:r,starred:c,drafts:n,trash:s,read:o,inboxReply:u,outboxReply:l})]})]})}}var Ir=r(48),Lr=r.n(Ir);function Dr(e){for(var t=e.inbox,r=e.sent,n=e.drafts,c=e.starred,s=e.trash,o=e.read,u=e.email,l=e.inboxReply,d=e.outboxReply,j=e.toggleIsCompose,b=Object(i.b)(),p=Object(te.i)(),O=p.category,f=p.id,m=Object(i.c)((function(e){return e.userReducer})).user,h=Object(a.useState)([]),x=Object(Re.a)(h,1)[0],v=Object(a.useState)((function(){switch(O){case"inbox":return l.length>0&&l.forEach((function(e){e.inboxId===f&&e.replyId.forEach((function(e){u.forEach((function(t){e===t._id&&x.push(t)}))}))})),x.push(t.find((function(e){return e._id===f}))),x.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})),x;case"sent":return d.length>0&&d.forEach((function(e){e.outboxId===f&&e.replyId.forEach((function(e){u.forEach((function(t){e===t._id&&x.push(t)}))}))})),x.push(r.find((function(e){return e._id===f}))),x.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})),x;case"drafts":return n.find((function(e){return e._id===f}));case"starred":return void 0!==t.find((function(e){return e._id===f}))?l.length>0&&l.forEach((function(e){e.inboxId===f&&e.replyId.forEach((function(e){u.forEach((function(t){e===t._id&&x.push(t)}))}))})):void 0!==r.find((function(e){return e._id===f}))&&d.length>0&&d.forEach((function(e){e.outboxId===f&&e.replyId.forEach((function(e){u.forEach((function(t){e===t._id&&x.push(t)}))}))})),x.push(c.find((function(e){return e._id===f}))),x.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})),x;case"trash":return s.find((function(e){return e._id===f}))}})),g=Object(Re.a)(v,1)[0],_=[],y=function(){var e=g[E]._id;_.push(Object(Ne.jsx)("div",{className:Lr.a.wrapper,children:Object(Ne.jsxs)("div",{className:Lr.a.container,children:[Object(Ne.jsx)("h3",{children:0===E&&g[E].subject}),0!==E&&Object(Ne.jsxs)("span",{children:['Mail Subject : "',g[E].subject,'"']}),Object(Ne.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(Ne.jsx)(rt.a,{className:Lr.a.avatar}),Object(Ne.jsxs)("div",{className:Lr.a.avatar,children:[g[E].from,Object(Ne.jsx)("br",{}),"to ",m.email!==g[E].to?g[E].to:"me"]}),Object(Ne.jsx)("div",{className:Lr.a.avatar,children:new Date(g[E].createdAt).toLocaleString("en-IN",{timezone:"Asia/Kolkata"})}),Object(Ne.jsx)("button",{style:{width:"60px",marginLeft:"30px",color:"white",backgroundColor:"black",borderRadius:"7px"},onClick:function(){return j(f,e,x)},children:"Reply"})]}),Object(Ne.jsx)("hr",{}),Object(Ne.jsx)("p",{children:g[E].message})]})}))},E=0;E<g.length;E++)y();return Object(a.useEffect)((function(){void 0===o.find((function(e){return e===f}))&&b(ze(f))}),[b,o,f]),Object(Ne.jsxs)(a.Fragment,{children:[Object(Ne.jsxs)(pr,{children:[Object(Ne.jsx)(mr,{}),Object(Ne.jsx)(gr,{id:f,isInTrash:"trash"===O}),"trash"===O?Object(Ne.jsx)(_r,{id:f}):Object(Ne.jsx)(xr,{id:f})]}),_]})}var Nr=r(41),Mr=r.n(Nr);var Tr=function(e){var t,r,n,c,s=e.toggleIsCompose,o=e.composeDraft,u=e.id,l=e.composeReplyDraft,d=Object(i.b)(),j=Object(i.c)((function(e){return e.userReducer.user.email})),b=Object(ke.a)({defaultValues:{from:j,to:(null===o||void 0===o?void 0:o.to)||(null===l||void 0===l?void 0:l.from)||"",subject:(null===o||void 0===o?void 0:o.subject)||(null===l||void 0===l?void 0:l.subject)||"",message:(null===o||void 0===o?void 0:o.message)||""}}),p=b.register,O=b.handleSubmit,f=b.errors,m=b.watch,h=Object(a.useRef)({}),x=Object(a.useRef)({}),v=Object(a.useRef)({}),g=Object(a.useRef)({});return h.current=m("from",""),x.current=m("to",""),v.current=m("subject",""),g.current=m("message",""),Object(Ne.jsxs)("form",{onSubmit:O((function(e){if(o){d(Pe(e));var t={to:x.current,subject:v.current,message:g.current};d(Ge(o._id,t))}else d(Pe(e,u,null===l||void 0===l?void 0:l._id));s()})),className:Mr.a.compose,children:[Object(Ne.jsxs)("div",{className:Mr.a.header,children:[Object(Ne.jsx)("h5",{children:"New Message"}),Object(Ne.jsx)("span",{onClick:function(){if(o){var e={to:x.current,subject:v.current,message:g.current};d(Ge(o._id,e))}else if(""!==x.current||""!==v.current||""!==g.current){var t={from:h.current,to:x.current,subject:v.current,message:g.current};d(function(e){return function(){var t=Object(ae.a)(Object(re.a)().mark((function t(r,a){var n;return Object(re.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:I}),t.prev=1,t.next=4,je(a().userReducer.token,e);case 4:n=t.sent,r({type:L,payload:n.data.draft}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),r({type:D,error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))}s()},children:"\xd7"})]}),Object(Ne.jsxs)("div",{className:Mr.a.inpGroup,children:[Object(Ne.jsx)("label",{htmlFor:"from",children:"From:"}),Object(Ne.jsx)("input",{name:"from",id:"from",type:"email",ref:p({required:!0,pattern:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}),readOnly:!0})]}),Object(Ne.jsxs)("div",{className:Mr.a.inpGroup,children:[Object(Ne.jsx)("label",{htmlFor:"to",children:"To:"}),Object(Ne.jsx)("input",{name:"to",id:"to",type:"email",ref:p({required:!0,pattern:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/})})]}),Object(Ne.jsxs)("div",{className:Mr.a.inpGroup,children:[Object(Ne.jsx)("label",{htmlFor:"subject",children:"Subject:"}),Object(Ne.jsx)("input",{name:"subject",id:"subject",type:"text",ref:p({required:!0})})]}),Object(Ne.jsx)("textarea",{name:"message",ref:p({required:!0})}),Object(Ne.jsxs)("div",{className:Mr.a.send,children:[Object(Ne.jsx)(De.a,{type:"submit",children:"Send"}),Object(Ne.jsxs)("span",{children:[Object(Ne.jsx)("p",{children:"required"===(null===(t=f.to)||void 0===t?void 0:t.type)&&"Recipient is required"}),Object(Ne.jsx)("p",{children:"pattern"===(null===(r=f.to)||void 0===r?void 0:r.type)&&"Invalid email"}),Object(Ne.jsx)("p",{children:"required"===(null===(n=f.subject)||void 0===n?void 0:n.type)&&"Subject is required"}),Object(Ne.jsx)("p",{children:"required"===(null===(c=f.message)||void 0===c?void 0:c.type)&&"Email message is required"})]})]})]})};function qr(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.emailReducer.mailbox})),r=Object(i.c)((function(e){return e.emailReducer.email})),n=Object(a.useState)([]),c=Object(Re.a)(n,2),s=c[0],o=c[1],u=Object(a.useState)([]),l=Object(Re.a)(u,2),d=l[0],j=l[1],b=Object(a.useState)([]),p=Object(Re.a)(b,2),O=p[0],f=p[1],m=Object(a.useState)([]),h=Object(Re.a)(m,2),x=h[0],v=h[1],g=Object(a.useState)([]),_=Object(Re.a)(g,2),y=_[0],E=_[1],R=Object(a.useState)([]),S=Object(Re.a)(R,2),w=S[0],A=S[1],k=Object(a.useState)([]),C=Object(Re.a)(k,2),I=C[0],L=C[1],D=Object(a.useState)([]),N=Object(Re.a)(D,2),M=N[0],T=N[1],q=Object(a.useState)([]),U=Object(Re.a)(q,2),F=U[0],P=U[1];Object(a.useEffect)((function(){e(Fe())}),[e]),Object(a.useEffect)((function(){var e=Object(W.a)(t.inbox),a=Object(W.a)(t.outbox),n=Object(W.a)(t.drafts),c=Object(W.a)(t.trash),i=Object(W.a)(t.favorite),s=t.inboxReply,u=t.outboxReply,l=t.read;e.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})),a.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})),n.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})),c.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})),i.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})),o(e),j(a),v(n),E(c),f(i),A(r),L(s),T(u),P(l)}),[t,r]);var G=Object(a.useState)(!0),B=Object(Re.a)(G,2),Q=B[0],z=B[1],Z=Object(a.useState)(!1),V=Object(Re.a)(Z,2),H=V[0],K=V[1],J=Object(a.useState)(void 0),X=Object(Re.a)(J,2),Y=X[0],$=X[1],ee=Object(a.useState)(void 0),re=Object(Re.a)(ee,2),ae=re[0],ne=re[1],ce=Object(a.useState)(void 0),ie=Object(Re.a)(ce,2),se=ie[0],oe=ie[1],ue=function(e,t,r){K(!H),e&&!0===t?x.forEach((function(t){return t._id===e&&$(t)})):e?(oe(e),r.forEach((function(e){return e._id===t&&ne(e)}))):($(void 0),ne(void 0))};return Object(Ne.jsxs)(a.Fragment,{children:[Object(Ne.jsx)(xt,{toggleShowSidebar:function(){return z(!Q)}}),Object(Ne.jsxs)("main",{className:We.a.main,children:[Q&&Object(Ne.jsx)(Gt,{toggleIsCompose:ue,inboxLength:s.length,sentLength:d.length,starredLength:O.length,draftsLength:x.length,trashLength:y.length}),Object(Ne.jsx)("div",{className:We.a.container,children:Object(Ne.jsx)(te.b,{exact:!0,path:"/email/:category",children:Object(Ne.jsx)(Cr,{inbox:s,sent:d,starred:O,drafts:x,trash:y,read:F,inboxReply:I,outboxReply:M,toggleIsCompose:ue})})}),Object(Ne.jsx)("div",{className:We.a.mailContainer,children:Object(Ne.jsx)(te.b,{path:"/email/:category/view/:id",children:Object(Ne.jsx)(Dr,{inbox:s,sent:d,drafts:x,starred:O,trash:y,read:F,email:w,inboxReply:I,outboxReply:M,toggleIsCompose:ue})})}),H&&Object(Ne.jsx)(Tr,{toggleIsCompose:ue,composeDraft:Y,id:se,composeReplyDraft:ae})]})]})}var Ur=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.userReducer})),r=t.isLoggedIn,n=t.token;return Object(a.useEffect)((function(){n&&e(function(){var e=Object(ae.a)(Object(re.a)().mark((function e(t,r){var a;return Object(re.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:x}),e.prev=1,e.next=4,n=r().userReducer.token,ce.a.get("".concat(ie,"/account"),se(n));case 4:a=e.sent,t({type:v,payload:a.data.user}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:g,error:e.t0.response.data.message});case 11:case"end":return e.stop()}var n}),e,null,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}())}),[n,e]),Object(Ne.jsx)(ee.a,{children:Object(Ne.jsx)("div",{className:"App",children:Object(Ne.jsxs)(te.d,{children:[Object(Ne.jsx)(te.b,{exact:!0,path:"/",children:r?Object(Ne.jsx)(te.a,{to:"/email/inbox"}):Object(Ne.jsx)(te.a,{to:"/account"})}),Object(Ne.jsx)(te.b,{exact:!0,path:"/account",children:r?Object(Ne.jsx)(te.a,{to:"/email/inbox"}):Object(Ne.jsx)(Ue,{})}),Object(Ne.jsx)(te.b,{path:"/email",children:r?Object(Ne.jsx)(qr,{}):Object(Ne.jsx)(te.a,{to:"/account"})}),Object(Ne.jsx)(te.b,{path:"/email/charts"}),Object(Ne.jsx)(te.b,{exact:!0,path:"/GitHub",component:function(){return window.location.href="https://github.com/Sivaramanraja98"}})]})})})};c.a.render(Object(Ne.jsx)(i.a,{store:$,children:Object(Ne.jsx)(Ur,{})}),document.getElementById("root"))},40:function(e,t,r){e.exports={center:"EmailCategory_center__a5LC0"}},41:function(e,t,r){e.exports={compose:"ComposeMail_compose__3uxWz",header:"ComposeMail_header__2RbeM",inpGroup:"ComposeMail_inpGroup__3ReUw",send:"ComposeMail_send__2L5I6"}},47:function(e,t,r){e.exports={container:"Header_container__2ZPCq",side:"Header_side__1Ikqd",middle:"Header_middle__3ek7t",relative:"Header_relative__3MgnN"}},48:function(e,t,r){e.exports={wrapper:"EmailView_wrapper__3q94r",container:"EmailView_container__3JKYJ",avatar:"EmailView_avatar__QPLoq"}},52:function(e,t,r){e.exports={container:"Sidebar_container__3NYyB",compose:"Sidebar_compose__3OLsR",showMore__on:"Sidebar_showMore__on__3t6NZ",showMore__off:"Sidebar_showMore__off__aWhJn"}},53:function(e,t,r){e.exports={item:"EmailListItem_item__2wZ6u",message:"EmailListItem_message__3Wrz6",unread:"EmailListItem_unread__EZSuS",read:"EmailListItem_read__3weN4"}},56:function(e,t,r){e.exports={form:"Form_form__38ca7"}},61:function(e,t,r){e.exports={page:"AuthPage_page__vEtWo",link:"AuthPage_link__Tbf4w"}},62:function(e,t,r){e.exports={main:"EmailPage_main__2KNf3",container:"EmailPage_container__1QSwT",mailContainer:"EmailPage_mailContainer__3KHG7"}},63:function(e,t,r){e.exports={modal:"EditImageModal_modal__Z5WBW",form:"EditImageModal_form__24q9y",avatar:"EditImageModal_avatar__2rMEW"}},64:function(e,t,r){e.exports={component:"EmailOptions_component__1qD7S",wrapper:"EmailOptions_wrapper__35diM"}},67:function(e,t,r){e.exports={container:"AccountControls_container__2rLgw",avatar:"AccountControls_avatar__1npTG"}},69:function(e,t,r){e.exports={item:"SidebarOption_item__Rp6T8",active:"SidebarOption_active__2s_wI"}}},[[150,1,2]]]);
//# sourceMappingURL=main.3893d469.chunk.js.map